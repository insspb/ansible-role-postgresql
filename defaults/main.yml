---
postgresql_version: '9.5'

postgresql_client: yes
postgresql_server: yes

postgresql_user: "postgres"

postgresql_runtime_root: "{{ runtime_root | default('/var/run') }}/postgresql"
postgresql_pidfile_path: "{{ postgresql_runtime_root }}/postgresql.pid"

postgresql_log_root: "{{ log_root | default('/var/log') }}/postgresql"
postgresql_log_path: "{{ postgresql_log_root }}/postgresql-main.log"

postgresql_accepts_external_connections: yes

postgresql_backup_enabled: no
postgresql_backup_path: /backup/postgresql
postgresql_backup_frequency: daily

postgresql_locale_parts:
  - 'en_US' # Locale
  - 'UTF-8' # Encoding
postgresql_locale: "{{ postgresql_locale_parts | join('.') }}"

postgresql_listen_addresses: localhost

postgresql_pg_hba_default:
    - type: local
      database: all
      user: '{{ postgresql_user }}'
      address: ''
      method: 'trust'
      comment: 'Local connection of postgre user, to remote management from ansible'
    - type: local
      database: all
      user: all
      address: ''
      method: 'peer'
      comment: '"local" is for Unix domain socket connections only'
    - type: host
      database: all
      user: all
      address: '127.0.0.1/32'
      method: 'md5'
      comment: 'IPv4 local connections:'
    - type: host
      database: all
      user: all
      address: '::1/128'
      method: 'md5'
      comment: 'IPv6 local connections:'

postgresql_pg_hba_trust_hosts: []
postgresql_pg_hba_reject_hosts: []
postgresql_pg_hba_md5_hosts: []
postgresql_pg_hba_passwd_hosts: []
postgresql_pg_hba_ldap_hosts: []
postgresql_pg_hba_custom: []
